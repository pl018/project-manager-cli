---
description:
globs:
alwaysApply: false
---
# Code Structure Guide

The [pyproject.py](mdc:pyproject.py) script follows a modular design pattern, separating concerns into logical groups of functions.

## Module Organization

### Project Information Module
- `get_project_info()` - Collects information about the current working directory.

### File Analysis Module
- `get_file_samples()` - Analyzes repository files for content to generate AI tags.
- Handles file filtering, excluding certain directories and large files.
- Prioritizes important file types (.py, .js, etc.).

### AI Integration Module
- `generate_ai_tags()` - Communicates with OpenAI API.
- Analyzes code samples to determine project purpose and generate relevant tags.
- By default uses the o3-mini model with a temperature of 1.

### Project Manager Integration
- `create_project_entry()` - Creates the project entry structure.
- `update_projects_file()` - Updates the Cursor Project Manager's projects.json file.

### Logging System
- `setup_logging()` - Configures the logging system.
- `write_receipt()` - Creates a detailed receipt of operations in the log file.

## Execution Flow

1. Script parses command-line arguments
2. Logging is configured
3. Project information is collected
4. AI tags are generated (unless disabled)
5. Project entry is created
6. Cursor Project Manager's configuration is updated
7. Detailed receipt is written to log file
